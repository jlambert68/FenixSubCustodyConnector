{
  "Class": "VerifyMQResponseTypeMT",
  "ActionMethod": "VerifyContentTypeMT544",
  "StackIndex": 0,
  "TestInstructionParametersStackPushOrder": [
    "RelatedReference_5xx_20CRELA",
    "MessageType_5xx_FromTestInstruction"
  ],
  "SubInstructions": {
    "SubInstructionContainer": {
      "ExecutionType": "Serial",
      "SubInstructionContainerChildren": [
        {
          "SubInstruction": {
            "_comment": "Prepare other Stack for original message",
            "Class": "StackSubInstructions",
            "Method": "ExecuteStackCommands",
            "Execute": true,
            "UseFullTimeOutTime": false,
            "InputStackIndex": 0,
            "OutputStackIndex": 1,
            "PreSetMemoryStack" : [],
            "StackCommands": [
              {
                "StackCommand": "PEEKN",
                "StackIndex": 0,
                "StackVariables": [
                  2
                ]
              },
              {
                "StackCommand": "PUSHN",
                "StackIndex": 1,
                "StackVariables": [
                  1
                ]
              },
              {
                "StackCommand": "DROPMEMEMORYALL",
                "StackIndex": 1
              }
            ]
          }
        },
        {
          "SubInstruction": {
            "_comment": "Get the MQ-response message, and MQ-Type from Message, to validate",
            "Class": "MQArchiverForSubInstructions",
            "Method": "GetMTMessageBasedOnRELAReferenceAndMTType",
            "Execute": true,
            "UseFullTimeOutTime": true,
            "InputStackIndex": 0,
            "OutputStackIndex": 0,
            "PreSetMemoryStack": []
          }
        },
        {
          "SubInstruction": {
            "_comment": "Get the Original MQ-message",
            "Class": "MQArchiverForSubInstructions",
            "Method": "GetMTMessageBasedOnSEMEReference",
            "Execute": true,
            "UseFullTimeOutTime": false,
            "InputStackIndex": 1,
            "OutputStackIndex": 1,
            "PreSetMemoryStack": []
          }
        },
        {
          "SubInstruction": {
            "_comment": "Validate that response message has correct MT-type, i.e. 'MT544'",
            "Class": "MTMessageContent",
            "Method": "ValidateMTTypeFromTestInstructionVsMQMessage",
            "Execute": true,
            "UseFullTimeOutTime": false,
            "InputStackIndex": 1,
            "OutputStackIndex": 1,
            "PreSetMemoryStack": []
          }
        },
        {
          "SubInstruction": {
            "_comment": "Validate that MT544 message has same tag-values as the original MT540",
            "Class": "MTMessageContent",
            "Method": "CompareMT540AndMT544TagContentIsEqual",
            "Execute": true,
            "UseFullTimeOutTime": false,
            "InputStackIndex": -1,
            "OutputStackIndex": -1,
            "PreSetMemoryStack": [
              0,
              1
            ]
          }
        }
      ]
    }
  }
}